# 書籍コンテンツ統一ガイド（読者支援レイヤー優先）

このドキュメントは、Book Formatter を用いて作成する書籍のうち、
「どこまでコンテンツ構造を揃えるか」「どこは各書籍の個性として残すか」
を整理したガイドです。

レイアウトやナビゲーション（Unified Setup, prev/next, safe-main.js, モバイルレスポンシブ等）は
すでにかなり統一されていますが、コンテンツレイヤーについては以下の方針とします。

## レイヤー分けの前提

- **MUST:** シリーズ横断で揃えるべき「読者支援・安全性・メタ情報」のレイヤー
- **SHOULD:** 同じドメインの書籍クラスタ内で揃えると効果が高いレイヤー
- **DO NOT UNIFY:** 書籍ごとの個性として残すべきレイヤー

それぞれの範囲を明確にすることで、「統一による一貫性」と「個々の書籍の特徴」の両立を目指します。

---

## 1. シリーズ横断で必ず揃えるレイヤー（MUST）

対象: 読者支援・安全性・メタ情報

### 1-1. 書籍レベル（`docs/index.md` / `docs/introduction/`）

少なくとも以下の情報を持つことを推奨します。

- **想定読者**
  - 職種（例: QA エンジニア、インフラエンジニア、Web アプリ開発者など）
  - 経験年数や前提スキルの目安
- **この本でできるようになること**
  - 読了後に読者が達成できることを 3〜5 項目で箇条書き
- **読み方ガイド**
  - 読者セグメント別のおすすめルート（初級者／中級者／マネージャーなど）
  - どの章から読んでもよいか、どこは前提として押さえた方がよいか

これらは `docs/index.md` と `docs/introduction/` 配下のページ（例: `preface.md`）のいずれか、
または両方に分担して記載します（index は概要、preface は詳細など）。

### 1-2. 章レベル（各章の `index.md`）

各章の冒頭には、少なくとも次のブロックを持つことを推奨します。

```markdown
> **この章の学習目標**
> - 〜が説明できるようになる
> - 〜の手順を自分で実行できるようになる
> - 〜の観点で比較・評価できるようになる
```

- 学習目標は 3〜5 項目程度が目安です。
- 「〜が分かる」より「〜ができる」のように、行動レベルの文にすることを推奨します。

可能であれば章末に、以下のようなまとめ・チェックを追加します。

```markdown
## まとめ

- 本章で学んだことを 2〜3 段落で振り返る。

## この章で確認したいこと

- [ ] 〜の違いを自分の言葉で説明できる
- [ ] 〜のステップをホワイトボード等で再現できる
- [ ] 自分のプロジェクトに 1 つ適用する例を挙げられる
```

### 1-3. 安全性・前提条件に関する注意書き

危険な操作や設定、AI 利用に関しては、書籍ごとにバラつきが出ないよう、
テンプレート化された注意文を用意しておくことを推奨します。
例えば:

```markdown
> **注意**: 本番環境に適用する前に、必ず検証環境で十分にテストを行い、
> 自組織の変更管理プロセスや情報セキュリティポリシーに従ってください。
> 特に、サービス停止やデータ損失に繋がりうる操作は、関係者とのリスク評価と
> 合意形成を経たうえで慎重に実施する必要があります。
```

AI や外部サービスを利用する例では:

```markdown
> **注意**: 外部サービスに送信する情報からは、機密情報や個人情報を含めないようにしてください。
> 実際の利用にあたっては、自社の情報セキュリティポリシーおよび関連する法令・契約条件に従う必要があります。
```

### 1-4. 調査値・ベンチマーク・バージョン依存情報

導入率や速度向上率、ベンチマーク結果などを記載する場合は、
必ず「いつ・どういう前提の調査か」を簡潔に添えます。

例:

```markdown
2024 年時点の一般的な開発者調査（Stack Overflow Developer Survey など）によれば、
プロフェッショナル開発者の 70% 以上が何らかの AI ツールを日常的に使用していると報告されている
（組織やプロジェクトによって実態は異なる点に留意が必要である）。
```

このように、「参考値」であることと「前提条件」を読者に明示します。

### 1-5. 用語・略語

- 略語の初出時には、英語表記と 1〜2 行の日本語説明を添えます。

  例:

  ```markdown
  SLO（Service Level Objective: サービスレベル目標）は、サービス提供側が達成を目指す
  可用性や応答時間などの具体的な目標値を指す。
  ```

- 巻末／付録に用語集がある場合は、そこに統一的な定義を置き、
  本文からも同じ表現を使うようにします。

---

## 2. 同種の書籍クラスタ内で揃えるレイヤー（SHOULD）

対象: 同じドメインのシリーズ（例）

- Linux／インフラ系
- GitHub 系
- AI×エンジニア思考／テスト系

このレイヤーは Book Formatter のテンプレートというより、
各クラスタの「書き方ガイド」に近い位置づけです。

揃えたい内容の例:

- 共通用語の定義
  - 例: SLO／SLA／エラーバジェット、Technical Debt など
- 抽象レイヤー図・パイプライン図などの凡例・表記ルール
- ドメイン固有の前置き
  - 例: SRE 視点で話すのか、アプリ開発視点で話すのか

これらは書籍クラスタごとのガイドとして整理し、
必要に応じて各書籍の `preface` などで参照する運用を想定します。

---

## 3. あえて揃えないレイヤー（個々の書籍の特徴として残す）

対象: 書籍ごとの個性や設計思想

次のような要素は、あえてテンプレートで固定しない方針とします。

- ストーリーライン・ケーススタディの選び方
- 章構成の細かい順序（導入を厚く取る／いきなり手を動かす など）
- 抽象度のバランス（思考法寄り vs 実装寄り）
- 図の構図・メタファーの選択

これらは各書籍の強みであり、個々の著者・編集者が意図して設計するべき部分です。

---

## 4. Book Formatter における利用方針

現時点では、Book Formatter は主にレイアウト／構造／ナビゲーションの統一を担い、
コンテンツ内容そのものには強く踏み込まない設計です。
本ガイドは、その上に乗る「書き方の共通方針」として機能させることを意図しています。

具体的には:

1. **docs/writing 配下のガイドとして保守**
   - `tech-book-writing-6phases.md`（執筆プロセス）と併せて、本ガイドを参照する。
2. **starter テンプレートの雛形に反映**
   - 新規書籍生成時の `docs/index.md`／章の雛形に、学習目標や想定読者・読み方の枠を追加する。
3. **既存書籍は徐々に寄せていく**
   - 既存書籍には Book Formatter から強制上書きはせず、改訂や増補のタイミングで
     少しずつ本ガイドに沿った構造に寄せる。

このように、「読者支援・安全性・メタ情報」のレイヤーだけを共通化し、
各書籍固有のストーリーや事例・図解の自由度は維持する方針です。
